<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
<f:view contentType="text/html;charset=UTF-8" encoding="UTF-8">
	<h:head>
		<title>Pregled korisnika Criteria API</title>
		<h:outputStylesheet library="css" name="dizajn.css" />
	</h:head>
	<style>
    	body{
    		margin: auto;
    	}
        h2{
        	font-family: 'Nobile', Helvetica, Arial, sans-serif;
    		color: #2D365F;
    		font-size: 40px;
    		text-align: center;
    		padding:8px 0px;
        }
        ul {
		  	list-style-type: none;
    	  	background-color: #2D365F;
    	  	text-align: center;
    	  	padding-top: 10px 0px;
		}
		li {
			padding: 10px 0px;
		}
    </style>
	<h:body>
		<h2>Pregled korisnika</h2>
		<ul>
        	<li><h:link outcome="index.xhtml" value="Prijava" 
        	style="text-decoration:none; color:white; padding:8px 0px; font-family:'Nobile', Helvetica, Arial, sans-serif; font-size: 20px;"/></li>
        </ul>
		
		<h:link outcome="index.xhtml" value="Prijava" />
		
		
		<h:form id="form1">
			<h:dataTable id="korisnici" style="vertical-align: top;"
				value="#{korisniciZrnoCriteriaApi.korisnici}" var="k"
				styleClass="authorTable" headerClass="authorTableHeader"
				rowClasses="authorTableOddRow,authorTableEvenRow">
				<h:column>
					<f:facet name="header">
						<h:outputText value="Korisnik" />
					</f:facet>
					<h:outputText value="#{k.korisnik}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Prezime" />
					</f:facet>
					<h:outputText value="#{k.prezime}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Ime" />
					</f:facet>
					<h:outputText value="#{k.ime}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Grupe" />
					</f:facet>
					<h:commandButton value=" Pregled ">
						<f:ajax event="click" render="grupe" immediate="true"
							listener="#{korisniciZrnoCriteriaApi.odabirKorisnika(k.korisnik)}" />
					</h:commandButton>
				</h:column>
			</h:dataTable>
		</h:form>
	
	
		<h:dataTable id="grupe" style="vertical-align: top;"
			value="#{korisniciZrnoCriteriaApi.korisnik.grupes}" var="g"
			styleClass="authorTable" headerClass="authorTableHeader"
			rowClasses="authorTableOddRow,authorTableEvenRow">
			<h:column>
				<f:facet name="header">
					<h:outputText value="Grupa" />
				</f:facet>
				<h:outputText value="#{g.grupa}" />
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="Naziv" />
				</f:facet>
				<h:outputText value="#{g.naziv}" />
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="Broj članova" />
				</f:facet>
				<h:outputText value="#{g.korisnicis.size()}" />
			</h:column>
		</h:dataTable>
				
		
		
	</h:body>
</f:view>
</html>
